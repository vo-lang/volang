[package]
name = "vo-stdlib"
version.workspace = true
edition.workspace = true
license.workspace = true

description = "Vo standard library: Vo source files + platform extern implementations"

[lib]
crate-type = ["rlib"]

[features]
default = []
std = ["vo-runtime/std", "dep:regex", "dep:lazy_static", "dep:dirs", "dep:hostname", "dep:linkme", "dep:libc", "dep:nix", "dep:ureq"]

[dependencies]
vo-runtime = { path = "../vo-runtime", default-features = false }
vo-common = { path = "../vo-common" }
vo-common-core = { path = "../vo-common-core" }
vo-ffi-macro = { path = "../vo-ffi-macro" }
rust-embed = "8"
paste = "1"
ryu = "1"

# std-only dependencies
regex = { version = "1", optional = true }
lazy_static = { version = "1.4", optional = true }
dirs = { version = "5", optional = true }
hostname = { version = "0.4", optional = true }
linkme = { version = "0.3", optional = true }
libc = { version = "0.2", optional = true }
nix = { version = "0.29", optional = true, features = ["signal", "process"] }
ureq = { version = "2", optional = true, features = ["tls"] }

# WASM-only dependencies
[target.'cfg(target_arch = "wasm32")'.dependencies]
js-sys = "0.3"
wasm-bindgen = "0.2"
web-sys = { version = "0.3", features = ["Performance", "Window"] }

[build-dependencies]
# For watching stdlib changes
