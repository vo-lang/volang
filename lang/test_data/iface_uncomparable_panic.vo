// Test: comparing interfaces containing non-comparable types should panic
// Go spec: comparing interfaces with non-comparable dynamic types causes runtime panic
package main


import "fmt"
func main() {
    fmt.Println("Test 1: Comparable types in interface")
    var i1 any = 42
    var i2 any = 42
    assert(i1 == i2, "interfaces with same int should be equal")
    
    var s1 any = "hello"
    var s2 any = "hello"
    assert(s1 == s2, "interfaces with same string should be equal")
    
    fmt.Println("Test 2: Different types in interface")
    var int1 any = 42
    var str1 any = "42"
    assert(int1 != str1, "int and string should not be equal")
    
    fmt.Println("Test 3: Nil interface comparison")
    var n1 any = nil
    var n2 any = nil
    assert(n1 == n2, "nil interfaces should be equal")
    assert(n1 == nil, "nil interface should equal nil")
    
    fmt.Println("Test 4: Slice in interface - should panic on compare")
    var slice1 any = []int{1, 2, 3}
    var slice2 any = []int{1, 2, 3}
    
    panicked := false
    func() {
        defer func() {
            if r := recover(); r != nil {
                panicked = true
            }
        }()
        _ = slice1 == slice2  // should panic!
    }()
    assert(panicked, "comparing slices in interface should panic")
    
    fmt.Println("Test 5: Map in interface - should panic on compare")
    var map1 any = map[string]int{"a": 1}
    var map2 any = map[string]int{"a": 1}
    
    panicked = false
    func() {
        defer func() {
            if r := recover(); r != nil {
                panicked = true
            }
        }()
        _ = map1 == map2  // should panic!
    }()
    assert(panicked, "comparing maps in interface should panic")
    
    fmt.Println("Test 6: Func in interface - should panic on compare")
    var fn1 any = func() {}
    var fn2 any = func() {}
    
    panicked = false
    func() {
        defer func() {
            if r := recover(); r != nil {
                panicked = true
            }
        }()
        _ = fn1 == fn2  // should panic!
    }()
    assert(panicked, "comparing funcs in interface should panic")
    
    fmt.Println("iface_uncomparable_panic: ALL PASSED")
}
