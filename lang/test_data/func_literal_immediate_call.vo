// Test: immediate invocation of function literals (IIFE pattern)
// Coverage: func literal definition and immediate call, closures in IIFE
package main


import "fmt"
func main() {
	// Test 1: Basic IIFE returning value
	fmt.Println("Test 1")
	result := func() int {
		return 42
	}()
	assert(result == 42, "IIFE should return 42")

	// Test 2: IIFE with parameters
	fmt.Println("Test 2")
	sum := func(a, b int) int {
		return a + b
	}(10, 20)
	assert(sum == 30, "IIFE with params should return 30")

	// Test 3: IIFE capturing outer variable
	fmt.Println("Test 3")
	x := 100
	captured := func() int {
		return x * 2
	}()
	assert(captured == 200, "IIFE should capture x")

	// Test 4: IIFE modifying outer variable
	fmt.Println("Test 4")
	counter := 0
	func() {
		counter = counter + 1
	}()
	assert(counter == 1, "IIFE should modify counter")

	// Test 5: Nested IIFE
	fmt.Println("Test 5")
	nested := func() int {
		inner := func() int {
			return 5
		}()
		return inner * 3
	}()
	assert(nested == 15, "Nested IIFE should work")

	// Test 6: IIFE returning multiple values
	fmt.Println("Test 6")
	a, b := func() (int, string) {
		return 123, "hello"
	}()
	assert(a == 123, "IIFE multi-return a")
	assert(b == "hello", "IIFE multi-return b")

	fmt.Println("func_literal_immediate_call: PASSED")
}
