package main

import (
	"net"
)

func main() {
	// Test ParseIP
	ip := net.ParseIP("192.168.1.1")
	if ip == nil {
		panic("ParseIP failed for IPv4")
	}
	if ip.String() != "192.168.1.1" {
		panic("IPv4 string mismatch: " + ip.String())
	}

	// Test ParseIP IPv6
	ip6 := net.ParseIP("::1")
	if ip6 == nil {
		panic("ParseIP failed for IPv6")
	}
	if ip6.String() != "::1" {
		panic("IPv6 string mismatch: " + ip6.String())
	}

	// Test ParseCIDR
	ip, ipnet, err := net.ParseCIDR("192.168.1.0/24")
	if err != nil {
		panic("ParseCIDR failed: " + err.Error())
	}
	if ip.String() != "192.168.1.0" {
		panic("CIDR IP mismatch: " + ip.String())
	}
	if ipnet.String() != "192.168.1.0/24" {
		panic("CIDR network mismatch: " + ipnet.String())
	}

	// Test SplitHostPort
	host, port, err := net.SplitHostPort("localhost:8080")
	if err != nil {
		panic("SplitHostPort failed: " + err.Error())
	}
	if host != "localhost" {
		panic("host mismatch: " + host)
	}
	if port != "8080" {
		panic("port mismatch: " + port)
	}

	// Test JoinHostPort
	addr := net.JoinHostPort("localhost", "8080")
	if addr != "localhost:8080" {
		panic("JoinHostPort mismatch: " + addr)
	}

	// Test IPv6 JoinHostPort
	addr6 := net.JoinHostPort("::1", "8080")
	if addr6 != "[::1]:8080" {
		panic("JoinHostPort IPv6 mismatch: " + addr6)
	}

	println("net basic tests passed")
}
