// Test: Variable initialization with dependencies
// Go spec: variables are initialized in dependency order
package main


import "fmt"
// Declared out of order - dependency analysis should handle this
var c = a + b    // depends on a and b
var a = 10       // no dependencies
var b = a + 5    // depends on a

// Chain dependencies
var x4 = x1 + x3
var x1 = 1
var x3 = x2 + 1
var x2 = x1 + 1

func main() {
    // Test dependency-ordered initialization
    assert(a == 10, "a should be 10")
    assert(b == 15, "b should be 15 (a+5)")
    assert(c == 25, "c should be 25 (a+b)")
    
    // Test chain dependencies
    assert(x1 == 1, "x1 should be 1")
    assert(x2 == 2, "x2 should be 2")
    assert(x3 == 3, "x3 should be 3")
    assert(x4 == 4, "x4 should be 4 (x1+x3)")
    
    fmt.Println("var_dependency: ALL TESTS PASSED")
}
