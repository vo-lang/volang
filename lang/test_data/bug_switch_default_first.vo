// BUG: switch with default as first case matches all values to default
// In Go, default can appear anywhere in switch; it's only used when no case matches
package main


import "fmt"
func test(n int) int {
	total := 0
	switch n {
	default:
		total = 1000
	case 1:
		total = 1
	case 2:
		total = 2
	}
	return total
}

func main() {
	// Expected: test(1)=1, test(2)=2, test(99)=1000
	// Actual:   test(1)=1000, test(2)=1000, test(99)=1000 (all match default!)
	
	assert(test(1) == 1, "test(1) should be 1, got ", test(1))
	assert(test(2) == 2, "test(2) should be 2, got ", test(2))
	assert(test(99) == 1000, "test(99) should be 1000, got ", test(99))
	
	fmt.Println("bug_switch_default_first: ok")
}
