// Simple test for dyn_call with arguments
package main


import "fmt"
type Calc struct {
	val int
}

func (c *Calc) Add(x int) int {
	return c.val + x
}

func main() {
	calc := &Calc{val: 10}
	var obj interface{} = calc
	
	// First test: get method without calling
	method, err := obj~>Add
	assert(err == nil, "Error getting method")
	fmt.Println("Got method:", method)
	
	// Test calling the method closure directly via type assertion
	// This should work if dyn_get_attr returns a proper closure
	// f := method.(func(int) int)
	// result := f(5)
	// fmt.Println("Result:", result)
	
	fmt.Println("Done")
}
