package main


import "fmt"
// Test: Pointer type, address-of operator, and pointer receiver

type Point struct {
    x int
    y int
}

// Pointer receiver method - can modify the receiver
func (p *Point) Move(dx, dy int) {
    p.x = p.x + dx
    p.y = p.y + dy
}

// Value receiver method - cannot modify the original
func (p Point) Sum() int {
    return p.x + p.y
}

func main() {
    // Test 1: Create pointer to struct literal
    p := &Point{10, 20}
    
    // Test 2: Access field through pointer (auto-deref)
    assert(p.x == 10, "p.x should be 10")
    assert(p.y == 20, "p.y should be 20")
    
    // Test 3: Call pointer receiver method
    p.Move(5, 10)
    assert(p.x == 15, "after Move: p.x should be 15")
    assert(p.y == 30, "after Move: p.y should be 30")
    
    // Test 4: Call value receiver method on pointer
    sum := p.Sum()
    assert(sum == 45, "Sum should be 45")
    
    fmt.Println("pointer_basic: ALL PASSED")
}
