// Test: String, []byte, []rune conversions
// Vo spec: string is immutable UTF-8, rune is int32 (Unicode code point)
package main


import "fmt"
func main() {
    // Test 1: string to []byte
    s := "hello"
    b := []byte(s)
    assert(len(b) == 5, "len([]byte(hello)) should be 5")
    assert(b[0] == 104, "h = 104")
    assert(b[1] == 101, "e = 101")
    assert(b[4] == 111, "o = 111")
    
    // Test 2: []byte to string
    b2 := []byte{119, 111, 114, 108, 100}  // "world"
    s2 := string(b2)
    assert(s2 == "world", "[]byte to string")
    
    // Test 3: string to []rune
    s3 := "Goè¯­è¨€"
    r := []rune(s3)
    assert(len(r) == 4, "len([]rune(Goè¯­è¨€)) should be 4 runes")
    assert(r[0] == 'G', "first rune is G")
    assert(r[1] == 'o', "second rune is o")
    assert(r[2] == 'è¯­', "third rune is è¯­")
    assert(r[3] == 'è¨€', "fourth rune is è¨€")
    
    // Test 4: []rune to string
    r2 := []rune{'ä½ ', 'å¥½', 'ä¸–', 'ç•Œ'}
    s4 := string(r2)
    assert(s4 == "ä½ å¥½ä¸–ç•Œ", "[]rune to string")
    
    // Test 5: Single rune to string
    r3 := 'ä¸­'
    s5 := string(r3)
    assert(len(s5) == 3, "ä¸­ is 3 bytes in UTF-8")
    assert(s5 == "ä¸­", "single rune to string")
    
    // Test 6: Single byte to string
    s6 := string(byte(65))
    assert(s6 == "A", "byte 65 is A")
    
    // Test 7: Empty conversions
    emptyStr := ""
    emptyBytes := []byte(emptyStr)
    emptyRunes := []rune(emptyStr)
    assert(len(emptyBytes) == 0, "empty string to []byte")
    assert(len(emptyRunes) == 0, "empty string to []rune")
    assert(string(emptyBytes) == "", "empty []byte to string")
    assert(string(emptyRunes) == "", "empty []rune to string")
    
    // Test 8: Multibyte UTF-8 byte length
    s7 := "æ—¥æœ¬èªž"
    b7 := []byte(s7)
    assert(len(b7) == 9, "æ—¥æœ¬èªž is 9 bytes (3 chars Ã— 3 bytes)")
    assert(len([]rune(s7)) == 3, "æ—¥æœ¬èªž is 3 runes")
    
    // Test 9: Modify []byte doesn't affect original string
    original := "test"
    bytes := []byte(original)
    bytes[0] = 'b'
    assert(original == "test", "original string unchanged")
    assert(string(bytes) == "best", "modified bytes")
    
    // Test 10: Unicode code points
    emoji := "ðŸŽ‰"
    runesEmoji := []rune(emoji)
    assert(len(runesEmoji) == 1, "emoji is 1 rune")
    assert(runesEmoji[0] == 0x1F389, "emoji code point")
    
    fmt.Println("string_byte_rune_conv: ok")
}
