[workspace]
resolver = "2"
members = [
  "lang/crates/*",
  "lang/crates/vo-web/runtime-wasm",
  "libs/vox/rust",
  "libs/vogui/rust",
  "playground/rust",
  "studio/wasm",
  "cmd/vo",
  "cmd/vo-embed",
  "cmd/vo-test/rust",
]
exclude = [
  "3rdparty/resvg/rust",
  "3rdparty/wgpu/rust",
  "studio/src-tauri",
]

[workspace.package]
version = "0.1.0"
edition = "2021"
license = "MIT"

# WASM-optimized release (size)
[profile.release]
opt-level = "s"
lto = true
strip = true
debug = false

# Native-optimized release (speed)
[profile.release-native]
inherits = "release"
opt-level = 3
lto = "thin"
debug-assertions = false
overflow-checks = false

# Release with debug symbols (for crash investigation)
[profile.release-dbg]
inherits = "release"
strip = false
debug = true
lto = false

# Release without LTO (for LTO crash isolation)
[profile.release-nolto]
inherits = "release"
lto = false
