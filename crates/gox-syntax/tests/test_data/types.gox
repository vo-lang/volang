// All types and literals test
package main;

// Constants
const PI = 3.14159;
const MAX_SIZE = 1024;
const APP_NAME = "GoX Test App";
const DEBUG = true;

// Variable declarations
var globalCounter int;
var config map[string]string;

// Type aliases
type IntArray [10]int;
type StringSlice []string;
type IntMap map[int]string;
type Handler func(int, string) bool;

// Nested types
type Matrix [4][4]int;
type Table map[string][]int;

func testArrays() {
    var arr [5]int;
    arr[0] = 10;
    arr[1] = 20;
    arr[2] = 30;
    arr[3] = 40;
    arr[4] = 50;
    
    sum := 0;
    for i := 0; i < 5; i += 1 {
        sum += arr[i];
    }
    println(sum);
}

func testSlices() {
    s := []int{1, 2, 3, 4, 5};
    s = append(s, 6);
    s = append(s, 7, 8, 9);
    
    println(len(s));
    println(cap(s));
}

func testMaps() {
    m := map[string]int{
        "one": 1,
        "two": 2,
        "three": 3,
    };
    
    println(m["one"]);
    m["four"] = 4;
    println(len(m));
}

func testCompositeLiterals() {
    // Array literal
    arr := [3]int{1, 2, 3};
    
    // Slice literal
    slice := []string{"a", "b", "c"};
    
    // Map literal with expression keys
    m := map[int]string{
        1 + 0: "one",
        1 + 1: "two",
        3: "three",
    };
    
    // Nested composite
    nested := [][]int{
        []int{1, 2, 3},
        []int{4, 5, 6},
    };
    
    println(arr[0]);
    println(slice[1]);
    println(m[2]);
    println(nested[1][2]);
}

func testExpressions() {
    // Arithmetic precedence
    a := 2 + 3 * 4;        // 14
    b := (2 + 3) * 4;      // 20
    c := 10 / 2 + 5;       // 10
    d := 10 % 3;           // 1
    
    // Comparison and logical
    x := 5;
    y := 10;
    result := x < y && y > 0 || x == 5;
    
    // Unary
    neg := -x;
    pos := +y;
    not := !result;
    
    println(a);
    println(b);
    println(c);
    println(d);
    println(neg);
}

func main() {
    testArrays();
    testSlices();
    testMaps();
    testCompositeLiterals();
    testExpressions();
}
