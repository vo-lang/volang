// Test: struct embedding - method promotion
package main

type Animal struct {
	name string
}

func (a Animal) Speak() string {
	return "I am " + a.name
}

func (a Animal) GetName() string {
	return a.name
}

type Dog struct {
	Animal
	breed string
}

func (d Dog) Bark() string {
	return "Woof!"
}

type ServiceDog struct {
	Dog
	role string
}

func main() {
	// Method promotion from embedded type
	d := Dog{Animal: Animal{name: "Buddy"}, breed: "Golden"}
	
	// Promoted method from Animal
	assert(d.GetName() == "Buddy", "d.GetName() should be Buddy")
	
	// Own method
	assert(d.Bark() == "Woof!", "d.Bark() should be Woof!")
	
	// Multi-level method promotion
	sd := ServiceDog{
		Dog: Dog{Animal: Animal{name: "Max"}, breed: "German Shepherd"},
		role: "Guide",
	}
	
	// Method promoted through two levels
	assert(sd.GetName() == "Max", "sd.GetName() should be Max")
	assert(sd.Bark() == "Woof!", "sd.Bark() should be Woof!")
	
	println("method promotion tests passed")
}

